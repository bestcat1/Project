<!--
  Generated template for the SearchFarmPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="dark-blue">
      <button ion-button menuToggle>
          <ion-icon name="menu"></ion-icon>
        </button>
    <ion-title>ค้นหาฟาร์ม</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content   pullingIcon="arrow-dropdown"
    pullingText="ลากลง.."
    refreshingSpinner="circles"
    refreshingText="รอสักครู่...">></ion-refresher-content>
      </ion-refresher>
    <ion-card [hidden]="adminfarm=='ยังไม่มี'">
        <p align="center"><b>คุณสมัครเข้าฟาร์ม{{namefarm}}</b><br>
          <b>ในตำแหน่ง: {{vacancy}}</b><br>
          <ion-icon name="md-bicycle" large></ion-icon><br>
          <b>กำลังอยู่ในระหว่างการยืนยันการสมัครจากเจ้าของฟาร์ม..</b><br>
          <ion-item>
          <p align="center"><button ion-button type="button" (click)="cancel()" color="danger">ยกเลิกการสมัคร</button></p>
        </ion-item></p>
       </ion-card>


      <ion-searchbar
      [(ngModel)]="myInput"
      [showCancelButton]
      (ionInput)="getItems($event)"
      (ionCancel)="onCancel($event)"
      placeholder="ค้นหาฟาร์ม">
    </ion-searchbar>

      <ion-list >
      <ion-item *ngFor="let item of detail">
       <ion-label><b>{{item.farmname}}</b><br>คุณ {{ item.fname }} {{ item.lname }}</ion-label>
       <button item-end ion-button (click)="registerFarm(item)" type="button" color="secondary" [disabled]="adminfarm!='ยังไม่มี'">สมัคร</button>

      </ion-item>
    </ion-list>

</ion-content>
